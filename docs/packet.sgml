
<!-- Regina packet documentation.
     See regina.sgml for further details. -->

<chapter id="packet">
 <title>Working with Packets</title>

 <sect1 id="packet-tree">
  <title>The Packet Tree</title>

  <para>
   Most objects that can be manipulated in &regina; are
   <firstterm>packets</firstterm>.  Packets are pieces of data arranged in
   a tree structure; each packet (aside from the top-level packet) has a
   single parent packet and zero or more child packets.  A &regina; data
   file is nothing more than a packet tree.
  </para>
  <para>
   For each data file that is open, the left hand side of the
   main &regina; window will contain a visual representation of the
   corresponding packet tree, as illustrated below.
  </para>
  <para>
   <mediaobject>
    <imageobject>
     <imagedata fileref="images/shots/packettree.jpg">
    </imageobject>
    <imageobject>
     <imagedata fileref="images/shots/packettree.png" scale=30>
    </imageobject>
   </mediaobject>
  </para>
 </sect1>

 <sect1 id="packet-types">
  <title>Available Packet Types</title>

  <sect2 id="packet-container">
   <title>Container</title>

   <para>
    <inlinemediaobject>
     <imageobject>
      <imagedata fileref="images/packet/container.gif">
     </imageobject>
     <imageobject>
      <imagedata fileref="images/packet/container.png" scale=70>
     </imageobject>
    </inlinemediaobject>
   </para>
   <para>
    A <firstterm>container packet</firstterm> does more or less nothing.
    Its only purpose is to have child packets and thus
    assist with the organisation of the packet tree.
   </para>
   <para>
    As an example, a file containing a census might have a top-level
    container packet for the entire census.  This top-level packet might
    have a child container for 1 tetrahedron triangulations, a child container
    for 2 tetrahedron triangulations and so on.  Each of these child containers
    might then have their own child triangulation packets representing
    all the triangulations in their particular section of the census.
   </para>
   <para>
    <mediaobject>
     <imageobject>
      <imagedata fileref="images/shots/container.jpg">
     </imageobject>
     <imageobject>
      <imagedata fileref="images/shots/container.png" scale=50>
     </imageobject>
    </mediaobject>
   </para>
  </sect2>

  <sect2 id="packet-text">
   <title>Text</title>

   <para>
    <inlinemediaobject>
     <imageobject>
      <imagedata fileref="images/packet/text.gif">
     </imageobject>
     <imageobject>
      <imagedata fileref="images/packet/text.png" scale=70>
     </imageobject>
    </inlinemediaobject>
   </para>
   <para>
    A <firstterm>text packet</firstterm> contains an arbitrary amount of
    text.  It can be used to insert descriptions, observations and/or
    other miscellaneous comments into various places in the packet tree.
   </para>
   <para>
    <mediaobject>
     <imageobject>
      <imagedata fileref="images/shots/text.jpg">
     </imageobject>
     <imageobject>
      <imagedata fileref="images/shots/text.png" scale=50>
     </imageobject>
    </mediaobject>
   </para>
  </sect2>

  <sect2 id="packet-triangulation">
   <title>Triangulation</title>

   <para>
    <inlinemediaobject>
     <imageobject>
      <imagedata fileref="images/packet/triangulation.gif">
     </imageobject>
     <imageobject>
      <imagedata fileref="images/packet/triangulation.png" scale=70>
     </imageobject>
    </inlinemediaobject>
   </para>
   <para>
    A <firstterm>triangulation packet</firstterm> represents a single
    triangulation of a 3-manifold.  A triangulation is described by a
    number of tetrahedra with some faces glued together in pairs.
   </para>
   <para>
    <mediaobject>
     <imageobject>
      <imagedata fileref="images/shots/triangulation.jpg">
     </imageobject>
     <imageobject>
      <imagedata fileref="images/shots/triangulation.png" scale=50>
     </imageobject>
    </mediaobject>
   </para>
  </sect2>

  <sect2 id="packet-surfacelist">
   <title>Normal Surface List</title>

   <para>
    <inlinemediaobject>
     <imageobject>
      <imagedata fileref="images/packet/surface.gif">
     </imageobject>
     <imageobject>
      <imagedata fileref="images/packet/surface.png" scale=70>
     </imageobject>
    </inlinemediaobject>
   </para>
   <para>
    A <firstterm>normal surface list packet</firstterm> represents a set
    of normal surfaces in a triangulation.  Typically this will be the
    set of all vertex normal surfaces under some particular set of matching
    equations.
   </para>
   <para>
    Normal surfaces can be created using different sets of matching
    equations and can then be viewed in a variety of solution spaces.
    The parent packet of a normal surface list will always be the
    triangulation in which the normal surfaces lie.
   </para>
   <para>
    <mediaobject>
     <imageobject>
      <imagedata fileref="images/shots/surfacelist.jpg">
     </imageobject>
     <imageobject>
      <imagedata fileref="images/shots/surfacelist.png" scale=50>
     </imageobject>
    </mediaobject>
   </para>
  </sect2>

  <sect2 id="packet-filter">
   <title>Surface Filter</title>

   <para>
    <inlinemediaobject>
     <imageobject>
      <imagedata fileref="images/packet/filter.gif">
     </imageobject>
     <imageobject>
      <imagedata fileref="images/packet/filter.png" scale=70>
     </imageobject>
    </inlinemediaobject>
   </para>
   <para>
    A <firstterm>surface filter packet</firstterm> represents a filter
    that, given a large set of normal surfaces, will extract a subset of
    surfaces in which the user is interested.  The various types of
    filter include:
   </para>

   <sect3 id="packet-filterprop">
    <title>Property Filter</title>

    <para>
     <inlinemediaobject>
      <imageobject>
       <imagedata fileref="images/packet/filterprop.gif">
      </imageobject>
      <imageobject>
       <imagedata fileref="images/packet/filterprop.png" scale=70>
      </imageobject>
     </inlinemediaobject>
    </para>
    <para>
     A <firstterm>property filter</firstterm> extracts all normal
     surfaces with the requested orientability, compactness, boundary
     and/or Euler characteristic.
    </para>
    <para>
     <mediaobject>
      <imageobject>
       <imagedata fileref="images/shots/filterprop.jpg">
      </imageobject>
      <imageobject>
       <imagedata fileref="images/shots/filterprop.png" scale=50>
      </imageobject>
     </mediaobject>
    </para>
   </sect3>

   <sect3 id="packet-filtercomb">
    <title>Combination Filter</title>

    <para>
     <inlinemediaobject>
      <imageobject>
       <imagedata fileref="images/packet/filtercomb.gif">
      </imageobject>
      <imageobject>
       <imagedata fileref="images/packet/filtercomb.png" scale=70>
      </imageobject>
     </inlinemediaobject>
    </para>
    <para>
     A <firstterm>combination filter</firstterm> uses boolean
     <function>AND</function> or <function>OR</function>
     to combine a number of other surface filters.  The filters to be
     combined must be immediate child packets of the combination filter.
    </para>
    <para>
     <mediaobject>
      <imageobject>
       <imagedata fileref="images/shots/filtercomb.jpg">
      </imageobject>
      <imageobject>
       <imagedata fileref="images/shots/filtercomb.png" scale=50>
      </imageobject>
     </mediaobject>
    </para>
   </sect3>
  </sect2>

  <sect2 id="packet-anglestructures">
   <title>Angle Structure List</title>

   <para>
    <inlinemediaobject>
     <imageobject>
      <imagedata fileref="images/packet/angle.gif">
     </imageobject>
     <imageobject>
      <imagedata fileref="images/packet/angle.png" scale=70>
     </imageobject>
    </inlinemediaobject>
   </para>
   <para>
    An <firstterm>angle structure list packet</firstterm> represents a set
    of angle structures on a triangulation.  Typically this will be the
    set of all vertex angle structures under the standard equations.
   </para>
   <para>
    The parent packet of an angle structure list will always be the
    triangulation on which the structures lie.
   </para>
   <para>
    <mediaobject>
     <imageobject>
      <imagedata fileref="images/shots/angles.jpg">
     </imageobject>
     <imageobject>
      <imagedata fileref="images/shots/angles.png" scale=50>
     </imageobject>
    </mediaobject>
   </para>
  </sect2>

  <sect2 id="packet-script">
   <title>Script</title>

   <para>
    <inlinemediaobject>
     <imageobject>
      <imagedata fileref="images/packet/script.gif">
     </imageobject>
     <imageobject>
      <imagedata fileref="images/packet/script.png" scale=70>
     </imageobject>
    </inlinemediaobject>
   </para>
   <para>
    A <firstterm>script packet</firstterm> contains a &jython; script
    with direct access to the calculation engine.  This script can
    have variables representing other
    packets in the packet tree, thus giving you direct access to all of
    the data in the current file.
   </para>
   <para>
    See the <link linkend="jython">&jython; scripting reference</link>
    for further details.
   </para>
   <para>
    <mediaobject>
     <imageobject>
      <imagedata fileref="images/shots/script.jpg">
     </imageobject>
     <imageobject>
      <imagedata fileref="images/shots/script.png" scale=50>
     </imageobject>
    </mediaobject>
   </para>
  </sect2>
 </sect1>
</chapter>
