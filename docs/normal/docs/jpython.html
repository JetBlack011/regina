<html>
<head>
	<title>
		Jython and Scripting
	</title>
</head>

<body>
	<center>
		<h2>Jython and Scripting</h2>
	</center>
	<p>
	All scripts are run in Jython.  Jython is almost identical to
	standard (C) python with a few exceptions that are probably
	insignificant in this arena.  See
	<a href="http://www.jython.org/">www.jython.org</a> for more
	details.
	<p>
	When using Jython, Java objects, classes and methods can be
	directly accessed as if they were Jython objects, classes and
	methods.  The classes that form the engine, packets and other
	objects that can be manipulated in the program are described in
	detail in the
	<a href="engine/index.html">engine documentation</a>.
	Be sure to read the
	<a href="engine/interfacenotes.html">interface notes page</a> and
	the <a href="engine/javanotes.html">Java notes page</a>
	that accompany it.
	<p>
	Wherever Regina gives you access to Jython, you may
	assume that the <tt>java</tt> and <tt>normal</tt> modules have
	been imported (thus giving you access to everything beneath them).
	If you need access to data in a currently open file, your best
	choice is to create a new script packet, where you can set variables
	equal to other packets in the file before the script is run.
	<p>
	<b>Warning:</b> Probably the easiest way to crash the program is to
	bring up a Jython console and do something untoward.  Jython and
	scripting offer very low-level control over the engine, but also
	provide the associated dangers.  The general philosophy is that
	Jython gives you direct access to the C++ calculation engine and the
	Java interface has no way of knowing what you are tinkering with.
	Thus you should tread gently.
	<p>
	Whenever packets belonging to an open file are changed through a script
	or console, you should
	always refresh the corresponding packet subtree(s) in the main window
	(a button is provided below the tree for this purpose).  This will
	automatically update any open packet viewers or editors, so there is
	no need to update each of these separately.  The interface will also
	find any new packets that have been inserted into the subtree(s) and
	detect any renaming that has taken place.
	<p>
	You should <b>never</b> delete a packet belonging to an open file
	through a script or console!  This can only lead to tears.  Instead
	delete packets using the delete button/menu item provided in the
	main window.
	<p>
	If you cannot edit a packet through the GUI, there is a reason for
	this (for instance, a normal surface list will rely upon its parent
	triangulation remaining constant and so any triangulation with child
	surface lists will be uneditable).  Thus you should not use Jython
	as a way to get around that barrier; instead you should respect that
	barrier.  Perhaps you can clone the packet in question without
	cloning its descendants; the clone then should be editable.
</body>
</html>
